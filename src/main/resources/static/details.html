<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
  <script src="bootstrap/js/bootstrap.min.js"></script>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="bootstrap/css/article.css">
  <link rel="stylesheet" href="bootstrap/css/articlecard.css">
  <script src="jquery/jQuery-3.7.1.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    .navbar1 {
      background-image: url('/img/2.png'); /* 替换为你的图片路径 */
    }
  </style>
  <title>文章详情</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description">
  <meta content="Coderthemes" name="author">
  <link rel="shortcut icon" href="https://coderthemes.com/hyper/modern/static/images/favicon.ico">

  <link href="bootstrap/css/icons.min.css" rel="stylesheet" type="text/css">
  <link href="bootstrap/css/app-modern.min.css" rel="stylesheet" type="text/css" id="light-style">


  <script src="js/vue.global.js"></script>
  <script src="js/axios.min.js"></script>
  <script src="js/helper.js"></script>
  <script src="js/base.js"></script>

</head>

<body class="loading" data-layout="detached" data-layout-config='{"leftSidebarCondensed":false,"darkMode":false}'>

<!-- 顶部导航栏 - 开始 -->
<nav class="navbar1">
  <div class="container">
    <br>
  </div>
</nav>
<!--导航条-->
<nav class="navbar navbar-expand-sm">
  <ul class="navbar-nav">
    <li class="nav-item active">
      <a class="nav-link" href="index.html">主页</a>
    </li>
    <li class="nav-item active">
      <a class="nav-link" href="forum.html">发现</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="Article.html">发布中心</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="PersonInfo.html">个人中心</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="LoginRegister.html">登录/注册</a>
    </li>
  </ul>
</nav>
<!-- 顶部导航栏 - 结束 -->

<!-- 主体 - 开始 -->
<div id="app" class="container-fluid">

  <div class="wrapper">

    <!-- 侧边栏 - 开始 -->
    <div class="leftside-menu leftside-menu-detached">

      <div class="leftbar-user">
        <a href="javascript: void(0);">
          <img src="img/avatar-1.jpg" alt="user-image" height="42" class="rounded-circle shadow-sm">
          <span class="leftbar-user-name">Dominic Keller</span>
          <div class="follow-button">
            <span>关注</span>
          </div>
        </a>
      </div>

      <!--- Sidemenu -->
      <ul class="side-nav">
        <li class="side-nav-item">
          <a data-bs-toggle="collapse" href="#sidebarDashboards" aria-expanded="false" aria-controls="sidebarDashboards" class="side-nav-link">
            <i class="uil-home-alt"></i>
            <span> 他的主页 </span>
          </a>
          <div class="collapse" id="sidebarDashboards">
            <ul class="side-nav-second-level">
              <li>
                <a href="PersonInfo.html">粉丝</a>
              </li>
              <li>
                <a href="PersonInfo.html">文章</a>
              </li>
              <li>
                <a href="PersonInfo.html">收藏</a>
              </li>
              <li>
                <a href="PersonInfo.html">关注</a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
      <!-- 发布文章 Box -->
      <div class="help-box help-box-light text-center">
        <img src="img/help-icon.svg" height="90" alt="Helper Icon Image">
        <h5 class="mt-3">Release Center</h5>
        <p class="mb-3">Do you want to upload your own article</p>
        <a href="Article.html" class="btn btn-outline-primary btn-sm">Upload</a>
      </div>
      <!-- end 发布文章 Box -->
      <!-- End Sidebar -->
      <div class="clearfix"></div>
      <!-- Sidebar -left -->
    </div>
    <!-- 侧边栏 - 结束 -->

    <div class="content-page">

      <!-- 内容 - 开始 -->
      <div class="content mt-4">
          <div class="card">
            <div class="card-body">
              <div id="title" class="article-title">
                <h1>汉服文化</h1>
              </div>
              <div id="content" class="article-content">
                <p>  这是文章内容...汉服文化
                  2023-1-11汉服，是汉民族的传统服饰。又称衣冠、衣裳、汉装。汉服是中国“衣冠上国”“礼仪之邦”“锦绣中华”的体现，
                  承载了中国的染织绣等杰出工艺和美学，传承了30多项中国非物质文化遗产以及受保护的中国工艺美术.....</p>
              </div>
              <div id="time" class="publish-info">
                <p>发布时间：2023-12-03</p>
              </div>
              <div class="actions">
                <button id="likeButton"><i class="fas fa-thumbs-up"></i> 点赞</button>
                <span id="likeCount">0</span>
                <button id="collectButton"><i class="fas fa-bookmark"></i> 收藏</button>
                <span id="collectCount">0</span>
                <button id="commentButton"><i class="fas fa-comment"></i> 评论</button>
                <span id="commentCount">0</span>
              </div>
              <div class="comments-section">
                <!-- 用户发布评论的输入框 -->
                <form id="commentForm">
                <textarea id="commentInput" rows="4" cols="50"  placeholder="在这里写下你的评论"></textarea>
                <br>
                <button id="submitCommentButton">发表评论</button>
                </form>

                <!-- 评论及回复区域 -->
                <div class="comment">
                  <div class="comment-info">
                    <div class="publisher-details">
                      <div class="user-card article-card-user">
                        <a href="" class="router-link user-card-link" target="_blank">
                          <div class="avatar user-card-avatar avatar-xs">
                            <img src="img/a1.jpg" class="avatar-img">
                          </div>
                        </a>
                        <div class="user-card__info">
                          <a href="" class="router-link account-title user-card-link" target="_blank" title="昵称">
                            <span  class="account-title-name">昵称</span>
                          </a>
                        </div>
                      </div>
                      <span class="publisher-name"></span><br>
                      <p>2023-12-7</p>
                    </div>
                    <p>dfh的人体育课覅咯而是觉得有来和我若非哇嘎谁让你</p>
                  </div>
                  <div class="comment-actions">
                    <button id="comment"><i class="fas fa-comment"></i></button>
                    <span>100</span>
                    <button id="up"><i class="fas fa-thumbs-up"></i></button>
                    <span id="upCount">0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-body">
            <!-- <div v-html="article.content" class="markdown"></div> -->
          </div>
        </div>
      </div>
      <!-- 内容 - 结束 -->

      <!-- 页脚 - 开始 -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6">
              <div class="text-md-end footer-links d-none d-md-block">
                <a href="">版权所有：@国风衣橱/联系方式：11111111111</a>
              </div>
            </div>
          </div>
        </div>
      </footer>
      <!-- 页脚 - 结束 -->
    </div>
</div>
<!-- 主体 - 结束 -->

<script>
  // 这里可以添加JavaScript代码来处理交互和功能
  // 例如，点击按钮触发点赞、收藏等操作，提交评论等
  // 初始化点赞、收藏和评论计数器
  var likeCount = 0;
  var collectCount = 0;
  var commentCount = 0;

  // 点赞按钮点击事件处理函数
  var isLiked = false;

  document.getElementById('likeButton').addEventListener('click', function() {
    if (!isLiked) {
      isLiked = true;
      // 在这里发送请求到服务器，点赞
      // ...

      // 更新点赞数显示
      var likeCountElement = document.getElementById('likeCount');
      likeCount++;
      var newLikeCount = likeCount;
      likeCountElement.innerText = newLikeCount;
    } else {
      isLiked = false;
      // 在这里发送请求到服务器，取消点赞
      // ...
      // 更新点赞数显示
      likeCount--;
      var newLikeCount = likeCount;
      var likeCountElement = document.getElementById('likeCount');
      likeCountElement.innerText = newLikeCount;
    }
  });
  // 收藏按钮点击事件处理函数
  var isCollected = false;

  document.getElementById('collectButton').addEventListener('click', function() {
    if (!isCollected) {
      isCollected = true;
      // 在这里发送请求到服务器，收藏物品
      // ...
      // 更新收藏数显示
      var collectCountElement = document.getElementById('collectCount');
      collectCount++;
      var newCollectCount = collectCount;
      collectCountElement.innerText = newCollectCount;
    } else {
      isCollected = false;
      // 在这里发送请求到服务器，取消收藏物品
      // ...
      // 更新收藏数显示
      collectCount--;
      var newCollectCount = collectCount;
      var collectCountElement = document.getElementById('collectCount');
      collectCountElement.innerText = newCollectCount;
    }
  });

  // 评论按钮点击事件处理函数
  document.getElementById('commentButton').addEventListener('click', function() {
    commentCount++;
    document.getElementById('commentCount').innerText = commentCount;
  });
  document.getElementById('commentButton').addEventListener('click', function() {
    // 显示或隐藏评论框的代码
  });

  document.getElementById('submitCommentButton').addEventListener('click', function() {
    // 获取评论内容并提交到后端的代码
  });


  document.getElementById('followButton').addEventListener('click', function() {
    // 执行关注发布者的代码
  });
</script>

<script>
  $(document).ready(function() {
    // 获取传递的文章ID
    var articleId = getParameterByName("id");

    // 根据文章ID获取文章详情
    $.ajax({
      url: '/article/selectById',
      type: 'GET',
      dataType: 'json',
      data: { id: articleId },
      success: function(data) {
        // 假设返回的数据是一个包含单条数据的对象
        if (data) {
          // 更新HTML元素的内容
          $("#authorid").html(data.authorId);
          $("#time").html(data.time);
          $("#title").html(data.title);
          $("#descripetion").html(data.description);
        } else {
          // 处理数据不存在的情况，例如显示错误消息或跳转到其他页面
          alert("文章不存在");
        }
      },
      error: function() {
        // 在这里处理请求失败的情况，例如显示错误消息
        alert("查询失败");
      }
    });
  });
</script>

<script src="bootstrap/js/vendor.min.js"></script>
<script src="js/app.min.js"></script>
<script src="js/pages/index.js"></script>

</body>
</html>